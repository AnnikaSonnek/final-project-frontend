// //////////////////////////////////////////////////////////////////////// //
// /////////////////////////////// IMPORTS //////////////////////////////// //
// //////////////////////////////////////////////////////////////////////// //
import React from 'react';
import { useSelector } from 'react-redux';
import { StyledCircle, WrapCircles } from './ProgressBarStyles';

// //////////////////////////////////////////////////////////////////////// //
// /////////////////////////// PROGRESSBAR //////////////////////////////// //
// //////////////////////////////////////////////////////////////////////// //
export const ProgressBar = () => {
  const todolist = useSelector((store) => store.todos.items)

  // Filtering out the completed and uncompleted items
  const completedTodos = todolist.filter((todo) => todo.completed)
  // const uncompletedTodos = todolist.filter((todo) => !todo.completed)

  const totalTasks = todolist.length;

  const completedPercentage = (completedTodos.length / totalTasks) * 100;
  // const uncompletedPercentage = (uncompletedTasks.length / totalTasks) * 100;

  // //////////////////////////////////////////////////////////////////////// //
  // ///////////////////////////// RETURN JSX /////////////////////////////// //
  // //////////////////////////////////////////////////////////////////////// //
  return (
    <>
      <p>Progressbar</p>
      <WrapCircles>
        <StyledCircle completedPercentage={completedPercentage}>
          <div className="inner">{`${completedPercentage.toFixed(0)}%`}</div>
        </StyledCircle>
      </WrapCircles>
    </>
  )
}

